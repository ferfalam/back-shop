(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+c/a":function(t,e,s){"use strict";s.r(e);var a=s("o0o1"),i=s.n(a);function r(t,e,s,a,i,r,n){try{var l=t[r](n),o=l.value}catch(t){return void s(t)}l.done?e(o):Promise.resolve(o).then(a,i)}var n={data:function(){return{order:{}}},components:{Summary:s("qbkU").a},methods:{getDetails:function(){var t,e=this;return(t=i.a.mark((function t(){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.call_api("get","user/order/".concat(e.$route.query.orderCode));case 2:if(!(s=t.sent).data.success){t.next=7;break}e.order=s.data.data,t.next=9;break;case 7:return e.snack({message:s.data.message,color:"red"}),t.abrupt("return");case 9:case"end":return t.stop()}}),t)})),function(){var e=this,s=arguments;return new Promise((function(a,i){var n=t.apply(e,s);function l(t){r(n,a,i,l,o,"next",t)}function o(t){r(n,a,i,l,o,"throw",t)}l(void 0)}))})()}},created:function(){this.getDetails()}},l=s("KHd+"),o=Object(l.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"pt-7"},[s("v-row",[t.is_empty_obj(t.order)?t._e():s("v-col",{staticClass:"mx-auto",attrs:{xl:"8",lg:"10",cols:"12"}},[s("div",{staticClass:"text-center py-5"},[s("h1",[t._v(t._s(t.$t("thank_you_for_your_order")))]),t._v(" "),s("div",[t._v("Order Code : "),s("span",{staticClass:"secondary--text"},[t._v(t._s(t.order.code))])]),t._v(" "),t.order.user.email?s("div",{staticClass:"font-italic"},[t._v(t._s(t.$t("a_copy_of_your_order_summary_has_been_sent_to"))+" "+t._s(t.order.user.email))]):t._e()]),t._v(" "),s("Summary",{attrs:{"order-details":t.order}})],1)],1)],1)}),[],!1,null,null,null);e.default=o.exports},qbkU:function(t,e,s){"use strict";var a=s("o0o1"),i=s.n(a);function r(t,e,s,a,i,r,n){try{var l=t[r](n),o=l.value}catch(t){return void s(t)}l.done?e(o):Promise.resolve(o).then(a,i)}function n(t){return function(){var e=this,s=arguments;return new Promise((function(a,i){var n=t.apply(e,s);function l(t){r(n,a,i,l,o,"next",t)}function o(t){r(n,a,i,l,o,"throw",t)}l(void 0)}))}}var l={name:"ReviewDialog",data:function(){return{dialog:!1,submitting:!1,productId:null,product:null,hasOldReview:!1,review:{rating:null,comment:null},options:{color:"grey lighten-3",width:800,zIndex:200}}},validations:{review:{comment:{required:s("ta7f").required}}},computed:{commentErrors:function(){var t=[];return this.$v.review.comment.$dirty?(!this.$v.review.comment.required&&t.push(this.$i18n.t("this_field_is_required")),t):t}},methods:{open:function(t){this.dialog=!0,this.hasOldReview=!1,this.product=null,this.review.rating=null,this.review.comment=null,this.productId=t,t&&this.getReviewStatus(t)},getReviewStatus:function(t){var e=this;return n(i.a.mark((function s(){var a;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.call_api("get","user/review/check/".concat(t));case 2:(a=s.sent).data.success?(e.product=a.data.product,e.review=a.data.oldReview,a.data.oldReview.rating?e.hasOldReview=!0:e.review.rating=5):e.snack({message:a.data.message});case 4:case"end":return s.stop()}}),s)})))()},submit:function(){var t=this;return n(i.a.mark((function e(){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$v.review.$touch(),!t.$v.review.$anyError){e.next=3;break}return e.abrupt("return");case 3:return t.review.product_id=t.productId,t.submitting=!0,e.next=7,t.call_api("post","user/review/submit",t.review);case 7:(s=e.sent).data.success?t.snack({message:s.data.message}):t.snack({message:s.data.message,color:"red"}),t.submitting=!1,t.dialog=!1;case 11:case"end":return e.stop()}}),e)})))()},close:function(){this.dialog=!1}}},o=s("KHd+"),c={components:{ReviewDialog:Object(o.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width,scrollable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close.apply(null,arguments)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",{staticClass:"fs-16 fw-600",class:t.options.color},[t._v("\n            "+t._s(t.$t("rate_and_review_purchased_product"))+"\n            "),s("button",{staticClass:"ms-auto",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.close.apply(null,arguments)}}},[s("i",{staticClass:"la la-close fs-20"})])]),t._v(" "),s("v-card-text",{staticClass:"pa-4 black--text"},[t.productId?s("div",[t.product?s("div",{staticClass:"px-5 py-4"},[t.hasOldReview?s("v-alert",{attrs:{dense:"",text:"",icon:"la-info-circle",type:"info"}},[t._v("\n                        "+t._s(t.$t("youve_already_reviewed_this_product_you_can_update_the_review"))+"\n                    ")]):t._e(),t._v(" "),s("v-form",[s("div",[t._v(t._s(t.$t("rating")))]),t._v(" "),s("v-rating",{attrs:{"empty-icon":"las la-star","full-icon":"las la-star active","half-icon":"las la-star half half","background-color":"",hover:"",length:"5",size:"32"},model:{value:t.review.rating,callback:function(e){t.$set(t.review,"rating",e)},expression:"review.rating"}}),t._v(" "),s("div",{staticClass:"mt-3"},[t._v(t._s(t.$t("comment")))]),t._v(" "),s("v-textarea",{attrs:{"error-messages":t.commentErrors,"hide-details":"auto",outlined:""},model:{value:t.review.comment,callback:function(e){t.$set(t.review,"comment",e)},expression:"review.comment"}})],1)],1):s("div",{staticClass:"h-270px"})]):s("div",{staticClass:"text-center fs-15 py-4"},[t._v("\n                "+t._s(t.$t("this_product_is_not_available"))+"\n            ")])]),t._v(" "),s("v-card-actions",{staticClass:"pt-3"},[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"grey darken-3",text:""},nativeOn:{click:function(e){return t.close.apply(null,arguments)}}},[t._v(t._s(t.$t("close")))]),t._v(" "),s("v-btn",{staticClass:"px-5",attrs:{color:"primary",elevation:"0",loading:t.submitting,disabled:t.submitting},nativeOn:{click:function(e){return t.submit.apply(null,arguments)}}},[t._v(t._s(t.$t("submit")))])],1)],1)],1)}),[],!1,null,null,null).exports},props:{orderDetails:{type:Object,default:function(){}}},data:function(){return{cod_sticker:Vue.helpers.asset("/assets/img/cod_sticker.svg"),paid_sticker:Vue.helpers.asset("/assets/img/paid_sticker.svg")}},computed:{headers:function(){var t=[{text:"#",align:"start",sortable:!1,value:"serial"},{text:this.$i18n.t("product"),sortable:!1,value:"product"},{text:this.$i18n.t("quantity"),sortable:!1,value:"quantity"},{text:this.$i18n.t("unit_price"),sortable:!1,value:"unit_price"},{text:this.$i18n.t("total"),sortable:!1,align:"end",value:"total"}];return"delivered"==this.orderDetails.delivery_status&&t.push({text:"",align:"end",sortable:!1,value:"review"}),t}},methods:{openReviewDialog:function(t){this.$refs.submitReview.open(t)}}},d=Object(o.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.is_empty_obj(t.orderDetails)?t._e():s("div",[s("div",{staticClass:"grey lighten-4 border border-gray-200 pa-4 rounded fs-18 fw-700 lh-1"},[t._v(t._s(t.$t("order_summary")))]),t._v(" "),s("v-row",{staticClass:"mb-3"},[s("v-col",{staticClass:"pb-0 pb-md-3",attrs:{md:"6",cols:"12"}},[s("v-list",{attrs:{dense:""}},[s("v-list-item",[s("v-list-item-content",{staticClass:"fw-700"},[t._v(t._s(t.$t("order_code"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end"},[t._v(t._s(t.orderDetails.code))])],1),t._v(" "),s("v-list-item",[s("v-list-item-content",{staticClass:"fw-700"},[t._v(t._s(t.$t("name"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end"},[t._v(t._s(t.orderDetails.user.name))])],1),t._v(" "),s("v-list-item",[s("v-list-item-content",{staticClass:"fw-700"},[t._v(t._s(t.$t("email"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end"},[t._v(t._s(t.orderDetails.user.email))])],1),t._v(" "),s("v-list-item",[s("v-list-item-content",{staticClass:"fw-700"},[t._v(t._s(t.$t("delivery_type"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end text-capitalize"},[t._v(t._s(t.orderDetails.delivery_type.replaceAll("_"," ")))])],1),t._v(" "),s("v-list-item",[s("v-list-item-content",{staticClass:"fw-700 align-self-baseline"},[t._v(t._s(t.$t("shipping_address"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end"},[s("span",{staticClass:"d-block lh-1-6"},[t._v(t._s(t.orderDetails.shipping_address.address)+", "+t._s(t.orderDetails.shipping_address.postal_code))]),t._v(" "),s("span",{staticClass:"d-block lh-1-6"},[t._v(t._s(t.orderDetails.shipping_address.city)+", "+t._s(t.orderDetails.shipping_address.state)+", "+t._s(t.orderDetails.shipping_address.country))]),t._v(" "),s("span",{staticClass:"lh-1-6"},[t._v(t._s(t.orderDetails.shipping_address.phone))])])],1)],1)],1),t._v(" "),s("v-col",{staticClass:"pt-0 pt-md-3",attrs:{md:"6",cols:"12"}},[s("v-list",{attrs:{dense:""}},[s("v-list-item",[s("v-list-item-content",{staticClass:"fw-700"},[t._v(t._s(t.$t("total_order_amount"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end"},[t._v(t._s(t.format_price(t.orderDetails.grand_total)))])],1),t._v(" "),s("v-list-item",[s("v-list-item-content",{staticClass:"fw-700"},[t._v(t._s(t.$t("payment_method"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end text-capitalize"},[t._v(t._s(t.orderDetails.payment_type.replaceAll("_"," ")))])],1),t._v(" "),s("v-list-item",[s("v-list-item-content",{staticClass:"fw-700"},[t._v(t._s(t.$t("payment_status"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end text-capitalize"},[t._v(t._s(t.orderDetails.payment_status.replaceAll("_"," ")))])],1),t._v(" "),s("v-list-item",[s("v-list-item-content",{staticClass:"fw-700"},[t._v(t._s(t.$t("delivery_status"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end text-capitalize"},[t._v(t._s(t.orderDetails.delivery_status.replaceAll("_"," ")))])],1),t._v(" "),s("v-list-item",[s("v-list-item-content",{staticClass:"fw-700 align-self-baseline"},[t._v(t._s(t.$t("billing_address"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end"},[s("span",{staticClass:"d-block lh-1-6"},[t._v(t._s(t.orderDetails.billing_address.address)+", "+t._s(t.orderDetails.billing_address.postal_code))]),t._v(" "),s("span",{staticClass:"d-block lh-1-6"},[t._v(t._s(t.orderDetails.billing_address.city)+", "+t._s(t.orderDetails.billing_address.state)+", "+t._s(t.orderDetails.billing_address.country))]),t._v(" "),s("span",{staticClass:"lh-1-6"},[t._v(t._s(t.orderDetails.billing_address.phone))])])],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"grey lighten-4 border border-gray-200 pa-4 rounded fs-18 fw-700 lh-1"},[t._v(t._s(t.$t("order_details")))]),t._v(" "),s("div",{staticClass:"py-5"},[s("v-data-table",{attrs:{headers:t.headers,items:t.orderDetails.products.data,"hide-default-footer":"","mobile-breakpoint":"750"},scopedSlots:t._u([{key:"item.serial",fn:function(e){var a=e.item;return[s("span",{staticClass:"d-block fw-600"},[t._v(t._s(t.orderDetails.products.data.indexOf(a)+1))])]}},{key:"item.product",fn:function(e){var a=e.item;return[s("div",{staticClass:"d-flex align-center"},[s("img",{staticClass:"size-70px flex-shrink-0",attrs:{src:a.thumbnail,alt:a.name},on:{error:function(e){return t.imageFallback(e)}}}),t._v(" "),s("div",{staticClass:"flex-grow-1 ms-4"},[s("div",{staticClass:"text-truncate-2"},[t._v(t._s(a.name))]),t._v(" "),a.combinations.length>0?s("div",{},t._l(a.combinations,(function(e,a){return s("span",{key:a,staticClass:"me-4 py-1 fs-12"},[s("span",{staticClass:"opacity-70"},[t._v(t._s(e.attribute))]),t._v(" : "),s("span",{staticClass:"fw-500"},[t._v(t._s(e.value))])])})),0):t._e()])])]}},{key:"item.quantity",fn:function(e){var a=e.item;return[s("span",{staticClass:"d-block fw-600"},[t._v(t._s(a.quantity))])]}},{key:"item.unit_price",fn:function(e){var a=e.item;return[s("span",{staticClass:"d-block fw-600"},[t._v(t._s(t.format_price(a.price+a.tax)))])]}},{key:"item.total",fn:function(e){var a=e.item;return[s("span",{staticClass:"d-block fw-600"},[t._v(t._s(t.format_price(a.total)))])]}},"delivered"==t.orderDetails.delivery_status?{key:"item.review",fn:function(e){var a=e.item;return[s("v-btn",{staticClass:"px-2 text-primary",attrs:{text:"",small:""},on:{click:function(e){return t.openReviewDialog(a.id)}}},[t._v("\n                    "+t._s(t.$t("write_a_review"))+"\n                ")])]}}:null],null,!0)}),t._v(" "),s("review-dialog",{ref:"submitReview"})],1),t._v(" "),s("v-row",{staticClass:"mb-5"},[s("v-col",{attrs:{xl:"7",md:"6",cols:"12",order:"2","order-md":"1"}},["paid"==t.orderDetails.payment_status?s("div",{staticClass:"mt-5 ms-lg-5"},[s("img",{attrs:{src:t.paid_sticker}})]):"cash_on_delivery"==t.orderDetails.payment_type?s("div",{staticClass:"mt-5 ms-lg-5"},[s("img",{attrs:{src:t.cod_sticker}})]):t._e()]),t._v(" "),s("v-col",{attrs:{xl:"5",md:"6",cols:"12",order:"1","order-md":"2"}},[s("v-list",{attrs:{dense:""}},[s("v-list-item",{staticClass:"fw-700"},[s("v-list-item-content",[t._v(t._s(t.$t("sub_total"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end col-4"},[t._v(t._s(t.format_price(t.orderDetails.subtotal)))])],1),t._v(" "),s("v-list-item",{staticClass:"fw-700"},[s("v-list-item-content",[t._v(t._s(t.$t("tax"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end col-4"},[t._v(t._s(t.format_price(t.orderDetails.tax)))])],1),t._v(" "),s("v-list-item",{staticClass:"fw-700"},[s("v-list-item-content",[t._v(t._s(t.$t("shipping_charge"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end col-4"},[t._v(t._s(t.format_price(t.orderDetails.shipping_cost)))])],1),t._v(" "),s("v-list-item",{staticClass:"fw-700"},[s("v-list-item-content",[t._v(t._s(t.$t("coupon_discount"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end col-4"},[t._v(t._s(t.format_price(t.orderDetails.coupon_discount)))])],1)],1),t._v(" "),s("div",{staticClass:"grey lighten-4 border border-gray-200 rounded"},[s("v-list-item",{staticClass:"fw-700"},[s("v-list-item-content",[t._v(t._s(t.$t("total"))+" :")]),t._v(" "),s("v-list-item-content",{staticClass:"align-end col-4 px-0"},[t._v(t._s(t.format_price(t.orderDetails.grand_total)))])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.a=d.exports}}]);